:root {
  --bg: #0f0f0f; --card: #1e1e1e; --main: #121212; --side: #1a1a1a;
  --text: #eee; --sub: #aaa; --border: #333; --accent: #007bff;
  --success: #28a745; --danger: #dc3545; --warn: #ff9500;
}
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family: 'Segoe UI', sans-serif; background:var(--bg); color:var(--text); display:flex; flex-direction:column; height:100vh; overflow:hidden; }
.header { padding:16px; background:var(--side); text-align:center; font-size:1.5rem; border-bottom:1px solid var(--border); }
.container { flex:1; display:flex; overflow:hidden; position:relative; }
.sidebar { width:280px; background:var(--side); padding:16px; overflow-y:auto; border-right:1px solid var(--border); }
.sidebar ul { list-style:none; }
.sidebar li { margin:6px 0; }
.sidebar .folder { cursor:pointer; padding:8px; border-radius:6px; display:flex; align-items:center; gap:8px; transition:0.2s; }
.sidebar .folder:hover { background:#333; }
.sidebar .folder i { width:16px; }
.sidebar .sub { margin-left:20px; border-left:1px dashed #444; padding-left:12px; }
.main { flex:1; padding:20px; overflow-y:auto; background:var(--main); }
.controls { display:flex; gap:10px; margin-bottom:16px; flex-wrap:wrap; padding:0 10px; }
.controls button, .controls select { padding:8px 16px; background:var(--accent); color:#fff; border:none; border-radius:4px; cursor:pointer; font-size:0.9rem; }
.controls select { background:#333; }
.btn-sync { background:var(--warn); }
.grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(220px,1fr)); gap:16px; }
.card { background:var(--card); border-radius:12px; overflow:hidden; box-shadow:0 4px 12px rgba(0,0,0,0.3); transition:0.2s; }
.card:hover { transform:translateY(-4px); box-shadow:0 8px 20px rgba(0,0,0,0.5); }
.card img { width:100%; height:140px; object-fit:cover; background:#222; }
.card-body { padding:12px; }
.card-title { font-weight:bold; font-size:1.1rem; margin-bottom:4px; }
.card-subtitle { font-size:0.85rem; color:var(--sub); margin-bottom:8px; }
.card-actions { display:flex; gap:8px; }
.card-actions button { flex:1; padding:8px; font-size:1rem; border:none; border-radius:6px; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:6px; }
.btn-copy { background:var(--success); color:#fff; }
.btn-cart { background:var(--accent); color:#fff; }
.loading { text-align:center; padding:40px; color:#666; }

/* 购物车面板 */
.cart-panel { position:fixed; bottom:0; left:0; right:0; background:var(--side); border-top:1px solid var(--border); transition:height 0.3s ease; z-index:100; max-height:60vh; overflow:hidden; }
.cart-header { padding:12px 20px; display:flex; justify-content:space-between; align-items:center; cursor:pointer; border-bottom:1px solid var(--border); }
.cart-header h3 { font-size:1rem; display:flex; align-items:center; gap:8px; }
.cart-header .count { background:var(--accent); color:#fff; border-radius:50%; width:20px; height:20px; font-size:0.75rem; display:flex; align-items:center; justify-content:center; }
.cart-top-actions { display:flex; gap:8px; }
.cart-top-actions button { padding:6px 12px; background:#333; color:#eee; border:none; border-radius:6px; font-size:0.8rem; cursor:pointer; }
.cart-top-actions button:hover { background:#444; }
.cart-mid-actions { padding:8px 20px; border-top:1px solid var(--border); display:none; }
.btn-save-history { background:var(--warn); color:#fff; width:100%; padding:8px; border:none; border-radius:6px; cursor:pointer; font-size:0.85rem; }
.cart-body { padding:16px; max-height:calc(60vh - 100px); overflow-y:auto; display:none; }
.cart-section { margin-bottom:20px; }
.cart-section h4 { font-size:0.9rem; color:var(--sub); margin-bottom:8px; border-bottom:1px dashed #444; padding-bottom:4px; }
.cart-item { display:flex; justify-content:space-between; align-items:center; padding:8px 10px; background:#222; border-radius:6px; margin-bottom:6px; font-size:0.9rem; }
.cart-item .word { font-weight:bold; }
.cart-item .zh { color:var(--sub); font-size:0.8rem; }
.cart-item .remove { color:#ff6b6b; cursor:pointer; font-weight:bold; }
.cart-history-item { font-size:0.8rem; color:#999; background:#1e1e1e; padding:6px 10px; border-radius:6px; margin-bottom:4px; }
.cart-history-item .time { color:#666; font-size:0.7rem; }
.cart-actions { padding:12px 20px; border-top:1px solid var(--border); display:none; gap:10px; }
.cart-actions button { flex:1; padding:10px; border:none; border-radius:6px; cursor:pointer; font-weight:bold; }
.btn-copy-all { background:var(--success); color:#fff; }
 Btn-clear { background:var(--danger); color:#fff; }

/* 弹窗 */
.modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:1000; align-items:center; justify-content:center; }
.modal-content { background:var(--card); padding:24px; border-radius:16px; width:90%; max-width:480px; color:var(--text); box-shadow:0 10px 30px rgba(0,0,0,0.5); }
.modal h3 { text-align:center; margin-bottom:20px; }
.form-group { margin-bottom:16px; }
.form-group label { display:block; font-size:0.9rem; color:#ccc; margin-bottom:6px; }
.form-group input, .form-group select { width:100%; padding:10px; border-radius:8px; border:none; background:#2a2a2a; color:#fff; font-size:1rem; }
.cascade-selects { display:flex; gap:8px; flex-wrap:wrap; }
.cascade-selects select { flex:1; min-width:100px; }
.img-section { margin:16px 0; }
.img-preview { height:140px; background:#2a2a2a; border-radius:8px; overflow:hidden; display:flex; align-items:center; justify-content:center; margin-bottom:8px; }
.img-preview img { max-width:100%; max-height:100%; object-fit:contain; }
.img-actions { display:flex; gap:8px; }
.img-actions button { flex:1; padding:10px; border:none; border-radius:6px; cursor:pointer; font-size:0.9rem; }
.btn-select { background:#555; color:#fff; }
.btn-upload { background:var(--accent); color:#fff; }
.btn-upload:disabled { background:#444; cursor:not-allowed; }
.modal-footer { display:flex; gap:12px; margin-top:24px; }
.modal-footer button { flex:1; padding:12px; border:none; border-radius:8px; font-weight:bold; cursor:pointer; }
.btn-cancel { background:#555; color:#fff; }
.btn-confirm { background:var(--accent); color:#fff; }

.draw-tags { max-height:300px; overflow-y:auto; margin:16px 0; }
.draw-result { text-align:center; padding:12px; background:var(--success); color:#fff; border-radius:8px; margin:12px 0; font-weight:bold; min-height:40px; display:flex; align-items:center; justify-content:center; }

.toast { position:fixed; top:20px; right:20px; background:var(--success); color:#fff; padding:12px 20px; border-radius:8px; font-size:0.9rem; z-index:9999; box-shadow:0 4px 12px rgba(0,0,0,0.3); opacity:0; transform:translateX(100%); transition:all 0.3s ease; pointer-events:none; }
.toast.error { background:var(--danger); }
@keyframes pulse { 0% { transform:scale(1); } 50% { transform:scale(1.1); } 100% { transform:scale(1); } }
